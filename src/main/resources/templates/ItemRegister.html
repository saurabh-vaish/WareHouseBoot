<span th:replace="~{shared/Menubar :: header}"></span>

<main class="container mt-5">



<div class="card border-primary box">

	<div class="card-header headerbox" style="background: #50d8af !important">
		<h2 class="text-center">Welcome to Item Register Page</h2>
	</div>
	<div class="card-body text-center">
				
			<form th:action="@{save}" method="POST" th:object="${item}" class="form form-horizontal">
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="itemCode" class="control-label">Item Code</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<input type="text" th:text="*{itemCode}" class="form-control" required="true" placeholder="Enter Item Code"/>
								<div class="text-left">
									<span th:errors="*{itemCode}" class="text-danger" ></span>
									<span id="msg" class="text-danger"></span>	
								</div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="itemLength" class="control-label">Item Dimensions</label>
							</div>
							<div class="col-md-2 col-xs-4">
								<input type="text"  th:text="*{itemLength}" class="form-control num" required="true" placeholder="Length"/>
								<div class="text-left"><span th:errors="*{itemLength}" class="text-danger" ></span>	</div>
							</div>
							<div class="col-md-2 col-xs-4">
								<input type="text"  th:text="*{itemWidth}" class="form-control num" required="true" placeholder=" Width"/>
								<div class="text-left"><span th:errors="*{itemWidth}" class="text-danger" ></span>	</div>
							</div>
							<div class="col-md-2 col-xs-4">
								<input type="text"  th:text="*{itemHeight}" class="form-control num" required="true" placeholder="Height"/>
								<div class="text-left"><span th:errors="*{itemHeight}" class="text-danger" ></span>	</div>
							
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="baseCost" class="control-label">Base Cost</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<input type="text"  th:text="*{baseCost}" class="form-control num" required="true" placeholder="Enter Item Base Cost"/>
								<span class="errmsg text-danger"></span>
							
							<div class="text-left"><span th:errors="*{baseCost}" class="text-danger" ></span> </div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="baseCurr" class="control-label">Base Currency</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<select th:text="*{baseCurr}" class="form-control" required="true">
									<option value="">-Select Base Currency-</option>
									<option value="INR">INR</option>
									<option value="USD">USD</option>
									<option value="AUS">AUS</option>
									<option value="ERU">ERU</option>
								</select>
							<div class="text-left"><span th:errors="*{baseCurr}" class="text-danger" ></span></div>
							</div>
						</div>

						

						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="uom.id" class="control-label">Item Uom	</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<select th:text="*{uom.id}" class="form-control" required="true"> <!--  here uom.id indicates PK of Uom -->
										<option value="">-Select Item Uom-</option>
										<options items="${listuom}" itemLabel="uomCode" itemValue="id"></options>
								</select>
							<div class="text-left"><span th:errors="*{uom.id}" class="text-danger" ></span>	</div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="order.orderId" class="control-label">Order Method Code</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<select th:text="*{order.orderId}" class="form-control" required="true"> <!--  here uom.id indicates PK of Uom -->
										<option value="">-Select Order Method Code-</option>
										<options items="${listorder}" itemLabel="orderCode" itemValue="orderId"></options>
								</select>
							<div class="text-left"><span th:errors="*{order.orderId}" class="text-danger" ></span>	</div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="user1.whId" class="control-label">Vendor</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<select th:text="*{user1.whId}" class="form-control" required="true"> <!--  here uom.id indicates PK of Uom -->
										<option value="">-Select Vendor-</option>
<%-- 										<options items="${listvendor}" itemLabel="whCode" itemValue="whId"></options>
 --%>										<options items="${listvendor}" ></options>  <!--  it is having map with id,code so no need to write itemLabel and itemValue -->
								</select>
							<div class="text-left"><span th:errors="*{user1.whId}" class="text-danger" ></span>	</div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="user2.whId" class="control-label">Customer</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<select th:text="*{user2.whId}" class="form-control" required="true"> <!--  here uom.id indicates PK of Uom -->
										<option value="">-Select Customer-</option>
<%-- 										<options items="${listcustomer}" itemLabel="whCode" itemValue="whId"></options>
 --%>										<options items="${listcustomer}" ></options> 		<!--  it is having map with id,code so no need to write itemLabel and itemValue -->
								</select>
							<div class="text-left"><span th:errors="*{user2.whId}" class="text-danger" ></span>	</div>
							</div>
						</div>
						
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
								<label for="note" class="control-label">DESCRIPTION</label>
							</div>
							<div class="col-md-6 col-xs-12">
								<textarea th:text="*{note}" class="form-control" required="true" placeholder="Enter Any Note"></textarea>
							<div class="text-left"><span th:errors="*{note}" class="text-danger" ></span>	</div>
							</div>
						</div>
						<br>
						<div class="row form-group">
							<div class="col-md-4 col-xs-12 ">
							
							</div>
							<div class="col-md-6 col-xs-12 text-left">
									<button type="submit" class="btn btn-success align-left btnbox" >Register &nbsp;<i class="fa fa-send"></i></button>
							</div>
							
						</div>
	
				</form>
			
	</div>
	<div th:if="${msg != null }" class="card-footer text-danger bg-success">
		<span th:text="${msg}"></span> 
			<a th:id="${itemId != null}" th:href="@{view/{id}(id=${itemId})"  class="btn btn-primary float-right" >View &nbsp;<i class="fa fa-eye"></i></a>
	</div>
</div> <!-- card ended -->

<br><br>

</main>

<span th:include="~{shared/Footer :: footer (~{::body},'home')}">
</span>


<script>

	if ($(window).width() < 768) {
		$('.card-body').removeClass('text-center');
		$('.card').removeClass('box');
		$('.card-header').removeClass('headerbox');
	} else {
		$('.card-body').addClass('text-center');
	}

</script>


<script type="text/javascript">
$(document).ready(function(){
	$("#itemCode").change(function(){
		$.ajax({
			url:'check',
			data:{'code':$("#itemCode").val()},
			success:function(resp){
				console.log('my message' + resp);
				$("#msg").text(resp);
				if(resp!='')
					{
						$("#itemCode").val("");
						$("#itemCode").focus();
					}
			},
			error: function(resp, err){ console.log('my message' + err.responseText); }
		});
		//console.log("resp"+resp)
	});
});
</script>


<script>

$(document).ready(function () {
	  //called when key is pressed in textbox
	  $(".num").keypress(function (e) {
	     //if the letter is not digit then display error and don't type anything
	     if (e.which != 8 && e.which != 0 && e.which != 46 && (e.which < 48 || e.which > 57)) {
	        //display error message
	      //  $(".errmsg").html("Digits Only").show().fadeOut("slow");
	               return false;
	    }
	   });
	});


</script>